<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è„ˆè¡çµæ§‹åœ–åƒåŒ–èªªæ˜</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .chart-container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .explanation {
            background: #e8f4f8;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #2196F3;
            border-radius: 5px;
        }
        .formula {
            background: #f0f8ff;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            text-align: center;
            font-size: 16px;
        }
        .highlight {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
        }
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>è„ˆè¡çµæ§‹åœ–åƒåŒ–èªªæ˜</h1>

```
    <h2>1. è„ˆè¡ = è¼‰æ³¢ Ã— åŒ…çµ¡</h2>
    
    <div class="grid">
        <div class="chart-container">
            <h3>è¼‰æ³¢ (Carrier Wave)</h3>
            <canvas id="carrierChart" width="400" height="200"></canvas>
            <div class="explanation">
                <strong>è¼‰æ³¢é »ç‡</strong>ï¼šæ±ºå®šæŒ¯ç›ªçš„å¿«æ…¢<br>
                é »ç‡ = c / Î» = 3Ã—10â¸ / 1550Ã—10â»â¹ â‰ˆ 1.94Ã—10Â¹â´ Hz
            </div>
        </div>
        
        <div class="chart-container">
            <h3>åŒ…çµ¡ (Envelope)</h3>
            <canvas id="envelopeChart" width="400" height="200"></canvas>
            <div class="explanation">
                <strong>åŒ…çµ¡å‡½æ•¸</strong>ï¼šæ±ºå®šè„ˆè¡çš„å½¢ç‹€å’ŒæŒçºŒæ™‚é–“<br>
                ä½¿ç”¨Hanningçª—ï¼šå¹³æ»‘çš„é–‹å§‹å’ŒçµæŸ
            </div>
        </div>
    </div>
    
    <div class="chart-container">
        <h3>å®Œæ•´è„ˆè¡ = è¼‰æ³¢ Ã— åŒ…çµ¡</h3>
        <canvas id="pulseChart" width="800" height="300"></canvas>
        <div class="formula">
            E(z,t) = A Ã— cos(Ï‰t - kz + Ï†) Ã— envelope(t)
        </div>
    </div>
    
    <h2>2. å¾æ‚¨çš„FDTDçµæœåˆ†æ</h2>
    
    <div class="chart-container">
        <h3>Zæˆªé¢åˆ†æ (æ¨¡æ“¬æ‚¨çš„åœ–2)</h3>
        <canvas id="fdtdChart" width="800" height="300"></canvas>
        <div class="highlight">
            <strong>é—œéµè§€å¯Ÿ</strong>ï¼š
            <ul>
                <li>è„ˆè¡åªå‡ºç¾åœ¨ç‰¹å®šä½ç½® (z â‰ˆ 175-200 grid)</li>
                <li>è„ˆè¡å…§éƒ¨æœ‰ç´°å¾®æŒ¯ç›ª â†’ é€™å°±æ˜¯è¼‰æ³¢ï¼</li>
                <li>æŒ¯ç›ªé–“è·æ‡‰è©²ç­‰æ–¼ç©ºé–“æ³¢é•· Î»/n</li>
            </ul>
        </div>
    </div>
    
    <h2>3. è¼‰æ³¢é »ç‡è¨ˆç®—æ–¹æ³•</h2>
    
    <div class="explanation">
        <h4>æ–¹æ³•1ï¼šå¾æ™‚é–“domain</h4>
        <div class="formula">
            è¼‰æ³¢é »ç‡ = c / (n Ã— Î») = 3Ã—10â¸ / (1.0 Ã— 1550Ã—10â»â¹) â‰ˆ 1.94Ã—10Â¹â´ Hz
        </div>
        
        <h4>æ–¹æ³•2ï¼šå¾ç©ºé–“æŒ¯ç›ªæ¸¬é‡</h4>
        <div class="formula">
            ç©ºé–“æ³¢é•· = Î»/n = 1550 nm<br>
            åœ¨20nmç¶²æ ¼ä¸­ â‰ˆ 77.5 grid points<br>
            å¦‚æœæ¸¬é‡åˆ°peaké–“è· â‰ˆ 75-80 grid â†’ è¼‰æ³¢é »ç‡æ­£ç¢ºï¼
        </div>
    </div>
    
    <h2>4. è„ˆè¡å…§éƒ¨æŒ¯ç›ªçš„ç‰©ç†æ„ç¾©</h2>
    
    <div class="grid">
        <div class="explanation">
            <h4>ğŸŒŠ è¼‰æ³¢æŒ¯ç›ª</h4>
            <ul>
                <li><strong>é »ç‡</strong>ï¼šç”±å…‰çš„æ³¢é•·æ±ºå®š</li>
                <li><strong>ç›¸ä½</strong>ï¼šéš¨æ™‚é–“å’Œç©ºé–“è®ŠåŒ–</li>
                <li><strong>æŒ¯å¹…</strong>ï¼šè¢«åŒ…çµ¡å‡½æ•¸èª¿åˆ¶</li>
            </ul>
        </div>
        
        <div class="explanation">
            <h4>ğŸ“¦ åŒ…çµ¡èª¿åˆ¶</h4>
            <ul>
                <li><strong>å½¢ç‹€</strong>ï¼šHanningçª— (å¹³æ»‘ä¸Šå‡ä¸‹é™)</li>
                <li><strong>å¯¬åº¦</strong>ï¼šcycle Ã— period</li>
                <li><strong>ä½ç½®</strong>ï¼šæºçš„ä½ç½®</li>
            </ul>
        </div>
    </div>
    
    <div class="highlight">
        <h3>ğŸ¯ é©—è­‰æ‚¨çš„çµæœ</h3>
        <p><strong>å¾åœ–2çš„Zæˆªé¢ï¼š</strong></p>
        <ol>
            <li>æ¸¬é‡è„ˆè¡å…§éƒ¨ç›¸é„°peakçš„é–“è·</li>
            <li>æ›ç®—æˆç‰©ç†è·é›¢ï¼šé–“è· Ã— 20nm</li>
            <li>æ‡‰è©²ç´„ç­‰æ–¼1550nm</li>
            <li>å¦‚æœæ¥è¿‘ â†’ è¼‰æ³¢é »ç‡æ­£ç¢ºï¼</li>
        </ol>
    </div>
</div>

<script>
    // è¨­å®šå…±åŒåƒæ•¸
    const points = 1000;
    const timeRange = 4 * Math.PI;
    const time = Array.from({length: points}, (_, i) => i * timeRange / points);
    
    // è¼‰æ³¢åƒæ•¸
    const omega = 10; // è§’é »ç‡
    const carrier = time.map(t => Math.cos(omega * t));
    
    // åŒ…çµ¡åƒæ•¸ (Hanningçª—)
    const pulseWidth = timeRange * 0.3;
    const envelope = time.map(t => {
        if (t > timeRange * 0.35 && t < timeRange * 0.65) {
            const relativeTime = (t - timeRange * 0.35) / pulseWidth;
            return 0.5 * (1 - Math.cos(2 * Math.PI * relativeTime));
        }
        return 0;
    });
    
    // å®Œæ•´è„ˆè¡
    const pulse = time.map((t, i) => carrier[i] * envelope[i]);
    
    // FDTDæ¨¡æ“¬çµæœ (é¡ä¼¼æ‚¨çš„åœ–2)
    const zGrid = Array.from({length: 300}, (_, i) => i);
    const fdtdPulse = zGrid.map(z => {
        if (z > 175 && z < 200) {
            const cycles = 3; // è„ˆè¡å…§éƒ¨çš„è¼‰æ³¢é€±æœŸæ•¸
            const phaseInPulse = 2 * Math.PI * cycles * (z - 175) / (200 - 175);
            const envelopeAmp = Math.sin(Math.PI * (z - 175) / (200 - 175));
            return 0.7 * Math.cos(phaseInPulse) * envelopeAmp;
        }
        return 0;
    });
    
    // åœ–è¡¨é…ç½®
    const chartConfig = {
        type: 'line',
        options: {
            responsive: true,
            scales: {
                x: {
                    title: {
                        display: true,
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'æŒ¯å¹…'
                    }
                }
            },
            elements: {
                point: {
                    radius: 0
                }
            },
            plugins: {
                legend: {
                    display: false
                }
            }
        }
    };
    
    // è¼‰æ³¢åœ–
    new Chart(document.getElementById('carrierChart'), {
        ...chartConfig,
        data: {
            labels: time.map(t => (t / Math.PI).toFixed(1)),
            datasets: [{
                data: carrier,
                borderColor: '#e74c3c',
                borderWidth: 2,
                fill: false
            }]
        },
        options: {
            ...chartConfig.options,
            scales: {
                ...chartConfig.options.scales,
                x: {
                    title: {
                        display: true,
                        text: 'æ™‚é–“ (Ï€å–®ä½)'
                    }
                }
            }
        }
    });
    
    // åŒ…çµ¡åœ–
    new Chart(document.getElementById('envelopeChart'), {
        ...chartConfig,
        data: {
            labels: time.map(t => (t / Math.PI).toFixed(1)),
            datasets: [{
                data: envelope,
                borderColor: '#3498db',
                borderWidth: 3,
                fill: true,
                backgroundColor: 'rgba(52, 152, 219, 0.2)'
            }]
        },
        options: {
            ...chartConfig.options,
            scales: {
                ...chartConfig.options.scales,
                x: {
                    title: {
                        display: true,
                        text: 'æ™‚é–“ (Ï€å–®ä½)'
                    }
                }
            }
        }
    });
    
    // å®Œæ•´è„ˆè¡åœ–
    new Chart(document.getElementById('pulseChart'), {
        ...chartConfig,
        data: {
            labels: time.map(t => (t / Math.PI).toFixed(1)),
            datasets: [
                {
                    label: 'è¼‰æ³¢',
                    data: carrier.map(c => c * 0.3),
                    borderColor: '#e74c3c',
                    borderWidth: 1,
                    fill: false,
                    borderDash: [5, 5]
                },
                {
                    label: 'åŒ…çµ¡',
                    data: envelope,
                    borderColor: '#3498db',
                    borderWidth: 2,
                    fill: false
                },
                {
                    label: 'è„ˆè¡ = è¼‰æ³¢ Ã— åŒ…çµ¡',
                    data: pulse,
                    borderColor: '#27ae60',
                    borderWidth: 3,
                    fill: false
                }
            ]
        },
        options: {
            ...chartConfig.options,
            plugins: {
                legend: {
                    display: true
                }
            },
            scales: {
                ...chartConfig.options.scales,
                x: {
                    title: {
                        display: true,
                        text: 'æ™‚é–“ (Ï€å–®ä½)'
                    }
                }
            }
        }
    });
    
    // FDTDçµæœåœ–
    new Chart(document.getElementById('fdtdChart'), {
        ...chartConfig,
        data: {
            labels: zGrid,
            datasets: [{
                data: fdtdPulse,
                borderColor: '#9b59b6',
                borderWidth: 2,
                fill: false
            }]
        },
        options: {
            ...chartConfig.options,
            scales: {
                ...chartConfig.options.scales,
                x: {
                    title: {
                        display: true,
                        text: 'Z Grid Points'
                    }
                }
            }
        }
    });
</script>
```

</body>
</html>